@tailwind base;
@tailwind components;
@tailwind utilities;

/* Relax Refresh Partner Design System - Purple Theme Inspired */

@layer base {
  :root {
    /* Purple Brand Colors */
    --primary: 258 90% 66%;
    --primary-foreground: 0 0% 100%;
    --primary-dark: 258 100% 45%;
    --primary-light: 258 85% 75%;
    
    /* Background System */
    --background: 0 0% 100%;
    --background-secondary: 258 25% 96%;
    --foreground: 258 25% 15%;
    
    /* Card System */
    --card: 0 0% 100%;
    --card-foreground: 258 25% 15%;
    --card-hover: 258 15% 98%;
    
    /* Interactive Elements */
    --muted: 258 15% 94%;
    --muted-foreground: 258 10% 45%;
    --accent: 258 50% 92%;
    --accent-foreground: 258 25% 15%;
    
    /* Status Colors */
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    /* Borders & Inputs */
    --border: 258 20% 90%;
    --input: 258 20% 95%;
    --input-border: 258 30% 85%;
    --ring: 258 90% 66%;
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(258 90% 66%) 0%, hsl(283 85% 60%) 100%);
    --gradient-card: linear-gradient(145deg, hsl(0 0% 100%) 0%, hsl(258 25% 98%) 100%);
    --gradient-overlay: linear-gradient(180deg, rgba(139, 92, 246, 0.1) 0%, rgba(147, 51, 234, 0.05) 100%);
    
    /* Shadows */
    --shadow-card: 0 4px 6px -1px rgba(139, 92, 246, 0.1), 0 2px 4px -1px rgba(139, 92, 246, 0.06);
    --shadow-elevated: 0 10px 15px -3px rgba(139, 92, 246, 0.1), 0 4px 6px -2px rgba(139, 92, 246, 0.05);
    --shadow-floating: 0 20px 25px -5px rgba(139, 92, 246, 0.1), 0 10px 10px -5px rgba(139, 92, 246, 0.04);
    
    /* Spacing & Layout */
    --radius: 12px;
    --radius-large: 16px;
    --radius-small: 8px;
    
    /* Sidebar Colors */
    --sidebar-background: 258 25% 98%;
    --sidebar-foreground: 258 25% 15%;
    --sidebar-primary: 258 90% 66%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 258 20% 94%;
    --sidebar-accent-foreground: 258 25% 15%;
    --sidebar-border: 258 20% 90%;
    --sidebar-ring: 258 90% 66%;
    
    /* Animation Timings */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .dark {
    /* Dark theme with purple accents */
    --background: 258 25% 8%;
    --background-secondary: 258 20% 12%;
    --foreground: 258 15% 95%;
    
    --card: 258 25% 10%;
    --card-foreground: 258 15% 95%;
    --card-hover: 258 20% 15%;
    
    --primary: 258 85% 70%;
    --primary-foreground: 258 25% 8%;
    --primary-dark: 258 90% 55%;
    --primary-light: 258 80% 80%;
    
    --muted: 258 15% 18%;
    --muted-foreground: 258 10% 65%;
    --accent: 258 20% 20%;
    --accent-foreground: 258 15% 95%;
    
    --border: 258 20% 20%;
    --input: 258 20% 15%;
    --input-border: 258 25% 25%;
    --ring: 258 85% 70%;
    
    --gradient-primary: linear-gradient(135deg, hsl(258 85% 70%) 0%, hsl(283 80% 65%) 100%);
    --gradient-card: linear-gradient(145deg, hsl(258 25% 10%) 0%, hsl(258 20% 12%) 100%);
  }
}

/* Animation Keyframes */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(100%);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

@keyframes bounce {
  0%, 20%, 53%, 80%, 100% {
    transform: translate3d(0, 0, 0);
  }
  40%, 43% {
    transform: translate3d(0, -8px, 0);
  }
  70% {
    transform: translate3d(0, -4px, 0);
  }
  90% {
    transform: translate3d(0, -2px, 0);
  }
}

/* Utility Classes */
@layer components {
  .gradient-primary {
    background: var(--gradient-primary);
  }
  
  .gradient-card {
    background: var(--gradient-card);
  }
  
  .shadow-card {
    box-shadow: var(--shadow-card);
  }
  
  .shadow-elevated {
    box-shadow: var(--shadow-elevated);
  }
  
  .shadow-floating {
    box-shadow: var(--shadow-floating);
  }
  
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out;
  }
  
  .animate-slide-up {
    animation: slideUp 0.5s ease-out;
  }
  
  .animate-scale-in {
    animation: scaleIn 0.4s ease-out;
  }
  
  .animate-pulse-slow {
    animation: pulse 2s infinite;
  }
  
  .animate-bounce-slow {
    animation: bounce 2s infinite;
  }
  
  .transition-smooth {
    transition: var(--transition-normal);
  }
  
  .transition-fast {
    transition: var(--transition-fast);
  }
  
  .mobile-container {
  @apply max-w-md mx-auto bg-background;
  height: 100vh; /* Use exact height */
  overflow-y: hidden; /* Prevent outer container scrolling */
}
  
  .floating-label-input {
    @apply relative;
  }
  
  .floating-label-input input:focus + label,
  .floating-label-input input:not(:placeholder-shown) + label {
    @apply -translate-y-2 scale-75 text-primary;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    overflow-y: hidden; /* Prevent body scrolling */
  }

  /* Hide Scrollbars but Allow Scrolling */
  .content-area::-webkit-scrollbar {
    display: none; /* Hide scrollbar for WebKit browsers */
  }

  .content-area {
    -ms-overflow-style: none; /* Hide scrollbar for Edge */
    scrollbar-width: none; /* Hide scrollbar for Firefox */
    overflow-y: auto; /* Enable scrolling */
    -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
  }
}

/* Mobile Viewport Simulation for Desktop */
.desktop-mobile-container {
  width: 100%;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
  overflow-y: hidden; 
}

.mobile-viewport {
  width: 430px; /* iPhone 14 Pro Max width */
  height: 932px; /* iPhone 14 Pro Max height */
  max-height: 100vh;
  max-height: calc(100vh - 40px);
  border-radius: 50px;
  box-shadow: 
    0 0 0 8px #1a1a1a,
    0 8px 0px rgba(0, 0, 0, 0.2);
  position: relative;
  display: flex;
  flex-direction: column;
  overflow-y: hidden; /* Prevent viewport scrolling */
}

/* Dynamic Island simulation for iPhone 14 Pro Max */
.mobile-viewport::before {
  content: '';
  position: absolute;
  top: 5px;
  left: 50%;
  transform: translateX(-50%);
  width: 126px;
  height: 37px;
  background: #000;
  border-radius: 20px;
  z-index: 9999;
  pointer-events: none; /* Prevent interference with touch events */
}

/* Responsive behavior for actual mobile devices */
@media (max-width: 768px) {
  .desktop-mobile-container {
    background: transparent;
    padding: 0;
    align-items: stretch;
    height: 100vh;
    overflow-y: hidden; /* Prevent outer scrolling */
  }
  
  .mobile-viewport {
    width: 100%;
    height: 100vh;
    max-height: none;
    border-radius: 0;
    box-shadow: none;
    background: transparent;
    overflow-y: hidden; /* Prevent viewport scrolling */
  }
  
  .mobile-viewport::before {
    display: none;
  }
}

/* For very small desktop screens */
@media (min-width: 769px) and (max-height: 1000px) {
  .mobile-viewport {
    height: calc(100vh - 40px);
    max-height: 932px;
    overflow-y: hidden; /* Prevent viewport scrolling */
  }
}

/* Content area for scrollable content */
.content-area {
  flex: 1;
  width: 100%;
  overflow-y: auto; /* Allow content to scroll */
  -webkit-overflow-scrolling: touch;
  padding-bottom: 64px;
}

nav {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  background: var(--card);
  border-top: 1px solid var(--border);
  box-shadow: var(--shadow-floating);
  z-index: 50;
  padding-bottom: env(safe-area-inset-bottom);
  height: 64px;
}

/* Responsive adjustments for mobile devices */
@media (max-width: 768px) {
  header, nav {
    max-width: 100%; /* Full width on mobile */
  }
}

/* Hide hero section in mobile viewport simulation for desktop */
@media (min-width: 769px) and (max-width: 500px) {
  .hidden.lg\:flex {
    display: none !important;
  }
  
  .lg\:flex-none.lg\:w-1\/2 {
    width: 100% !important;
    flex: 1 !important;
  }
}

/* Additional rule for mobile viewport container */
.mobile-viewport .hidden.lg\:flex {
  display: none !important;
}

.mobile-viewport .lg\:flex-none.lg\:w-1\/2 {
  width: 100% !important;
  flex: 1 !important;
}

/* Example for scrollable page content (e.g., StallsList) */
.stalls-list-container {
  min-height: 100%;
  overflow-y: auto; /* Enable scrolling for long content */
  -webkit-overflow-scrolling: touch;
}